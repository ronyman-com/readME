<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./base/head', {
        title: typeof title !== 'undefined' ? title : 'Khmer Democracy Organization',
        description: typeof description !== 'undefined' ? description : 'Promoting democracy in Cambodia',
        assetPrefix: typeof assetPrefix !== 'undefined' ? assetPrefix : '/'
    }) %>
</head>
<body>
    <!-- Header/Navigation -->
    <%- include('./base/header', { 
        assetPrefix: typeof assetPrefix !== 'undefined' ? assetPrefix : '/',
        navItems: typeof navItems !== 'undefined' ? navItems : getFlattenedLinks(loadSidebar()) || [],
        currentPath: typeof currentPath !== 'undefined' ? currentPath : '/'
    }) %>
    
    <!-- Main Content -->
    <main class="container">
        <% if (typeof content !== 'undefined') { %>
            <%- content %>
        <% } else if (typeof html !== 'undefined') { %>
            <%- html %>
        <% } else { %>
            <h1>Welcome to KDO</h1>
            <p>Content will appear here</p>
        <% } %>
    </main>
    
    <!-- Footer -->
    <%- include('./base/footer', { 
        assetPrefix: typeof assetPrefix !== 'undefined' ? assetPrefix : '/',
        navItems: typeof navItems !== 'undefined' ? navItems : getFlattenedLinks(loadSidebar()) || []
    }) %>
</body>
</html>